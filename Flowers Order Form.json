{"pc":{"type":"Grid","model":{"rows":[{"cells":[{"class":"content-container","component":{"type":"Grid","model":{"rows":[{"cells":[{"component":{"type":"Text","model":{"text":"<h1>Flowers Order Form</h1>","_internalName":"Text1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Text","model":{"text":"<h4>Customer Information</h4>","_internalName":"Text3"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"SingleLineText","model":{"title":{"text":"FirstName","visible":false},"orientation":"Horizontal","required":false,"cHint":"First Name","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"Anything","wrap":true,"_internalName":"FirstName"}},"alignment":"Justify","columns":{"width":6}},{"component":{"type":"SingleLineText","model":{"title":{"text":"Last Name","visible":false},"orientation":"Horizontal","required":false,"cHint":"Last Name","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"Anything","wrap":true,"_internalName":"LastName"}},"alignment":"Justify","columns":{"width":6}}]},{"cells":[{"component":{"type":"SingleLineText","model":{"title":{"text":"Email","visible":false},"orientation":"Horizontal","required":false,"cHint":"Email","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"E-mail","wrap":true,"_internalName":"Email","pattern":"^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$","error":"This field must contain a valid e-mail address."}},"alignment":"Justify","columns":{"width":6}},{"component":{"type":"MaskedInput","model":{"title":{"text":"Mobile Number","visible":false},"orientation":"Horizontal","required":false,"font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mask":"+0 (000) 000 00 00","wrap":true,"_internalName":"MobileNumber"}},"alignment":"Justify","columns":{"width":6}}]},{"cells":[{"component":{"type":"MultiLineText","model":{"title":{"text":"Address","visible":false},"orientation":"Horizontal","required":false,"cHint":"Address","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mode":"Plain","wrap":true,"_internalName":"Address"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Text","model":{"text":"<h4>Recipient Information</h4>","_internalName":"Text1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"SingleLineText","model":{"title":{"text":"Name","visible":false},"orientation":"Horizontal","required":false,"cHint":"Name","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"Anything","wrap":true,"_internalName":"Name"}},"alignment":"Justify","columns":{"width":6}},{"component":{"type":"MaskedInput","model":{"title":{"text":"ContactNumber","visible":false},"orientation":"Horizontal","required":false,"font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mask":"+0 (000) 00 00 00","wrap":true,"_internalName":"ContactNumber"}},"alignment":"Justify","columns":{"width":6}}]},{"cells":[{"component":{"type":"MultiLineText","model":{"title":{"text":"Address","visible":false},"orientation":"Horizontal","required":false,"cHint":"Address","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mode":"Plain","wrap":true,"_internalName":"Address"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Text","model":{"text":"<h4>Flowers Description</h4><p>List flowers you want to send or bouquets pictures</p>","_internalName":"Text2"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"DataTable","model":{"columns":[{"_internalName":"Product","title":"Flower","required":false,"type":"Dropdown","options":"Tulip\r\nDaffodil\r\nPoppy\r\nSunflower\r\nBluebell\r\nRose\r\nSnowdrop\r\nCherry blossom","selection":"Single"},{"_internalName":"UnitPrice","title":"Unit Price","required":false,"type":"Number","min":1,"decimals":0,"format":"c2","step":1},{"_internalName":"Quantity","title":"Quantity","required":false,"type":"Number","decimals":0,"format":"n0","step":1},{"_internalName":"LineTotal","title":"Line Total","required":false,"type":"Number","decimals":0,"format":"c2","step":1}],"newLine":"Bottom","delete":"Last","_internalName":"DataTable1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"padding":[null,null,25,null],"component":{"type":"Number","model":{"title":{"text":"Order Total:","visible":true},"orientation":"Horizontal","required":false,"class":"total","font":{"color":"#ffffff","style":"Normal","weight":"Semibold"},"cWidth":150,"cFont":{"style":"Normal","weight":"Normal"},"decimals":2,"format":"c2","step":1,"wrap":true,"_internalName":"OrderTotal"}},"alignment":"Left","columns":{"width":4}}]},{"cells":[{"component":{"type":"MultiLineText","model":{"title":{"text":"Comments","visible":false},"orientation":"Horizontal","required":false,"cHint":"Comments","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mode":"Plain","wrap":true,"_internalName":"Comments"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"SingleLineText","model":{"title":{"text":"Message on Card","visible":false},"orientation":"Horizontal","required":false,"cHint":"Message on Card","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"Anything","wrap":true,"_internalName":"MessageOnCard"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Attachments","model":{"title":{"text":"Attachments1","visible":false},"orientation":"Horizontal","required":false,"font":{"style":"Normal","weight":"Semibold"},"maxSize":10240,"wrap":true,"_internalName":"Attachments1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"padding":[20,null,null,null],"component":{"type":"Submit","model":{"text":"ORDER FLOWERS","type":"Primary","click":"return fd.save();","_internalName":"Submit1"}},"alignment":"Center","columns":{"width":12}}]}],"stacked":"md","_internalName":"Grid3"}},"alignment":"Justify","columns":{"width":12}}]}],"stacked":"md"}},"phone":null,"tablet":null,"js":"window.$ = $;\nasync function reorder() {\n    const data = $.get('https://raw.githubusercontent.com/mnikitinaa/mnikitinaa.github.io/main/source.json')\n    return data;\n}\n\n//we store prices in JS object\nvar merch = {};\n//use bracket notation to accurately copy dropdown values\nmerch['Tulip'] = 0.75;\nmerch['Daffodil'] = 1.23;\nmerch['Poppy'] = 0.45;\nmerch['Sunflower'] = 2.35;\nmerch['Bluebell'] = 1.75;\nmerch['Rose'] = 2.15;\nmerch['Snowdrop'] = 1.45;\nmerch['Cherry blossom'] = 3.15;\n\nfd.rendered(function() {\n    \n    //populate table on form load\n    reorder().then(function(data){\n        fd.control('DataTable1').value = JSON.parse(data)\n    })\n\n    //set unit price column (2nd column) to be non-editable, as we set it with code\n    fd.control('DataTable1').columns[1].editable = function(){return false};\n    //Make LineTotal column noneditable\n    fd.control('DataTable1').columns[3].editable = function(){return false};\n    \n    fd.field('OrderTotal').disabled = true;\n    \n    fd.control('DataTable1').$on('change', function(value) {\n        var modifiedValuePrice = null;\n        var modifiedValueLineTotal = null;\n        var priceTotal = 0.0;\n        if(value) {\n            for (var i = 0; i < value.length; i++) {\n                if (value[i].UnitPrice !== merch[value[i].Product]) {\n                    if (!modifiedValuePrice) {\n                        modifiedValuePrice = Object.assign({}, value);\n                    }\n                    modifiedValuePrice[i].UnitPrice = merch[value[i].Product];\n                    \n\n                }\n                \n                    //if this record has Quantity and UnitPrice\n                    if(value[i].Quantity && value[i].UnitPrice){\n                        //set LineTotal to their product\n                        var cost = value[i].Quantity * value[i].UnitPrice;\n                        if (value[i].LineTotal !== cost) {\n                            if (!modifiedValueLineTotal) {\n                                modifiedValueLineTotal = Object.assign({}, value);\n                            }\n                            modifiedValueLineTotal[i].LineTotal = cost;\n                        }\n                    }\n                    \n                //calculate total for columns\n                priceTotal += parseFloat(value[i].LineTotal);\n            }\n        }\n        \n        fd.field('OrderTotal').value = priceTotal;\n        \n        if (modifiedValuePrice || modifiedValueLineTotal) {\n            fd.control('DataTable1').value = value;\n            fd.control('DataTable1').widget.refresh();\n        }\n    });\n});\n","css":".fd-form  {\n    box-sizing: border-box;\n    background: url(https://plumsailforms.blob.core.windows.net/397ad761-3174-49da-a4bf-a741828fbddb-images/56cc4009-ed-robertson-UrF1Jf5PamQ-unsplash.jpg) no-repeat center center fixed;\n    -webkit-background-size: auto;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n}\n\n.fd-form.k-animation-container {\n    background-image: none !important;\n}\n\n.fd-form h1, .fd-form h4, .fd-form p {\n    color: #ffff !important;\n}\n.fd-form h1{\n    font-size: min(6.5vw, 2.34375rem)!important;\n    text-align:center!important\n}\n.fd-form h4 {\n  display: flex;\n  flex-direction: row;\n  \n}\n.fd-form h4:before, .fd-form h4:after{\n  content: \"\";\n  flex: 1 1;\n  border-bottom: 1px solid;\n  margin: auto;\n}\n.fd-form h4:before {\n  margin-right: 10px\n}\n.fd-form h4:after {\n  margin-left: 10px\n}\n\n\n\n.fd-form .content-container{\n    -webkit-backdrop-filter: blur(6px);\n    backdrop-filter: blur(6px);\n    background-color: #8401133b; \n}\n\n.fd-form .total .k-numerictextbox .k-numeric-wrap .k-select {\n display: none;\n}","theme":{"primary":"#840113","bodyText":"#373A3C","bodyBackground":"#FFFFFF","fontFamily":null,"fontType":0,"fontSize":15,"fontWeight":400,"borderThickness":1,"borderRadius":10,"shadow":true,"themeId":"a039ccd9558f8806ad36d4337d111d67"},"timezone":"Asia/Yekaterinburg","culture":"en-US","notifySubscribers":true,"thankYouMessage":null,"redirectURL":null,"hideAfterSubmission":true,"submissionTimeout":"10","authentication":0,"singleSubmissionPerUser":false,"allowEditingSubmission":false,"restrictAccess":false,"azureADTenant":null,"azureADObjects":[],"azureB2CProperties":null,"version":"1.0.2"}