{
  "pc": {
    "type": "Grid",
    "model": {
      "rows": [
        {
          "cells": [
            {
              "padding": [0, 0, 0, 0],
              "class": "fd-order-form",
              "component": {
                "type": "Grid",
                "model": {
                  "rows": [
                    {
                      "cells": [
                        {
                          "class": "bg-primary",
                          "component": {
                            "type": "Text",
                            "model": {
                              "text": "<h1>Order Form</h1>",
                              "_internalName": "Text2"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Text",
                            "model": {
                              "text": "<h4>Customer Details</h4>",
                              "_internalName": "Text3"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Grid",
                            "model": {
                              "rows": [
                                {
                                  "cells": [
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "First Name",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "First Name",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "FirstName"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    },
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "Last Name",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "Last Name",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "LastName"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    }
                                  ]
                                },
                                {
                                  "cells": [
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "Email",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "Email",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "E-mail",
                                          "wrap": true,
                                          "_internalName": "Email",
                                          "pattern": "^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$",
                                          "error": "This field must contain a valid e-mail address."
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    },
                                    {
                                      "component": {
                                        "type": "MaskedInput",
                                        "model": {
                                          "title": {
                                            "text": "Phone",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "mask": "+0 (000) 000 00 00",
                                          "wrap": true,
                                          "_internalName": "Phone"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    }
                                  ]
                                }
                              ],
                              "stacked": "md",
                              "class": "bg-secondary",
                              "_internalName": "Grid1"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Text",
                            "model": {
                              "text": "<h4>Shipping Details</h4>",
                              "_internalName": "Text6"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Grid",
                            "model": {
                              "rows": [
                                {
                                  "cells": [
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "Street",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "Street",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "Street"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 12 }
                                    }
                                  ]
                                },
                                {
                                  "cells": [
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "City",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "City",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "City"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    },
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "State",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "State / Province",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "State"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    }
                                  ]
                                },
                                {
                                  "cells": [
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "Country",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "Country",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "Country"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    },
                                    {
                                      "component": {
                                        "type": "SingleLineText",
                                        "model": {
                                          "title": {
                                            "text": "ZIP Code",
                                            "visible": false
                                          },
                                          "orientation": "Horizontal",
                                          "required": false,
                                          "cHint": "ZIP Code",
                                          "font": {
                                            "style": "Normal",
                                            "weight": "Semibold"
                                          },
                                          "cFont": {
                                            "style": "Normal",
                                            "weight": "Normal"
                                          },
                                          "type": "Anything",
                                          "wrap": true,
                                          "_internalName": "ZIPCode"
                                        }
                                      },
                                      "alignment": "Justify",
                                      "columns": { "width": 6 }
                                    }
                                  ]
                                }
                              ],
                              "stacked": "md",
                              "class": "bg-secondary",
                              "_internalName": "Grid2"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Text",
                            "model": {
                              "text": "<h4>Order Details</h4>",
                              "_internalName": "Text12"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "DataTable",
                            "model": {
                              "columns": [
                                {
                                  "_internalName": "Item",
                                  "title": "Item",
                                  "required": true,
                                  "type": "Dropdown",
                                  "options": "Pen Holder\nAlarm Clock\nIce Tray",
                                  "selection": "Single"
                                },
                                {
                                  "_internalName": "Quantity",
                                  "title": "Quantity",
                                  "required": true,
                                  "type": "Number",
                                  "min": 1,
                                  "max": 10,
                                  "decimals": 0,
                                  "format": "n0",
                                  "step": 1
                                },
                                {
                                  "_internalName": "Price",
                                  "title": "Price ($)",
                                  "required": false,
                                  "type": "Number",
                                  "decimals": 2,
                                  "format": "c2",
                                  "step": 1
                                },
                                {
                                  "_internalName": "Total",
                                  "title": "Total",
                                  "required": false,
                                  "type": "Number",
                                  "decimals": 2,
                                  "format": "c2",
                                  "step": 1
                                }
                              ],
                              "newLine": "Top",
                              "delete": "Last",
                              "_internalName": "ItemsList"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Number",
                            "model": {
                              "title": { "text": "Total", "visible": true },
                              "orientation": "Horizontal",
                              "required": false,
                              "class": "fd-total-field",
                              "font": { "style": "Normal", "weight": "Bold" },
                              "cWidth": 150,
                              "cFont": {
                                "style": "Normal",
                                "weight": "Normal"
                              },
                              "decimals": 2,
                              "format": "c2",
                              "step": 1,
                              "wrap": true,
                              "_internalName": "Total1"
                            }
                          },
                          "alignment": "Right",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Button",
                            "model": {
                              "text": "Order Now!",
                              "type": "Primary",
                              "click": "return fd.save();",
                              "_internalName": "Button1"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    }
                  ],
                  "stacked": "md",
                  "_internalName": "Grid6"
                }
              },
              "alignment": "Justify",
              "columns": { "width": 12 }
            }
          ]
        },
        {
          "cells": [
            {
              "padding": [0, 0, 0, 0],
              "class": "fd-payment-form",
              "component": {
                "type": "Grid",
                "model": {
                  "rows": [
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "Text",
                            "model": {
                              "text": "<h4 style=\"text-align:center;\">Thank you for the order!  </h4><p style=\"text-align:center;\">Please proceed with the payment.</p>",
                              "_internalName": "Text13"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    },
                    {
                      "cells": [
                        {
                          "component": {
                            "type": "HTML",
                            "model": {
                              "content": "<div id=\"smart-button-container\">\r\n    <div id=\"invoiceidDiv\" style=\"text-align: center; display: none;\"><label for=\"invoiceid\"> </label><input name=\"invoiceid\" maxlength=\"127\" type=\"text\" id=\"invoiceid\" value=\"\" ></div>\r\n    <p id=\"invoiceidError\" style=\"visibility: hidden; color:red; text-align: center;\">Please enter an Invoice ID</p>\r\n    <div style=\"text-align: center; margin-top: 0.625rem;\" id=\"paypal-button-container\"></div>\r\n</div>\r\n ",
                              "_internalName": "HTML1"
                            }
                          },
                          "alignment": "Justify",
                          "columns": { "width": 12 }
                        }
                      ]
                    }
                  ],
                  "stacked": "md",
                  "_internalName": "Grid4"
                }
              },
              "alignment": "Justify",
              "columns": { "width": 12 }
            }
          ]
        }
      ],
      "stacked": "md"
    }
  },
  "phone": null,
  "tablet": null,
  "js": "// prices\r\nvar products = {};\r\nproducts['Pen Holder'] = 9.99;\r\nproducts['Ice Tray'] = 19.99;\r\nproducts['Alarm Clock'] = 4.99;\r\n\r\n// total to be paid\r\nvar total = 0.0;\r\n\r\nfd.rendered(function () {\r\n    var totalField = fd.field('Total1');\r\n    totalField.disabled = true;\r\n\r\n    var itemsList = fd.control('ItemsList');\r\n    itemsList.columns[2].editable = function () {\r\n        return false;\r\n    };\r\n    itemsList.columns[3].editable = function () {\r\n        return false;\r\n    };\r\n\r\n    itemsList.addValidator({\r\n        name: 'ItemsList validator',\r\n        error: 'Enter at least one record into the table',\r\n        validate: function (value) {\r\n            //change this number to make more records required\r\n            if (value.length < 1) {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n    });\r\n\r\n    itemsList.$on('change', function (value) {\r\n        var total = 0.0;\r\n\r\n        if (value) {\r\n            for (var i = 0; i < value.length; i++) {\r\n                if (!value[i].Item) {\r\n                    value[i].Item = 'Pen Holder';\r\n                }\r\n\r\n                if (!value[i].Quantity) {\r\n                    value[i].Quantity = 1;\r\n                }\r\n\r\n                value[i].Price = products[value[i].Item] || 0;\r\n                value[i].Total = value[i].Quantity * value[i].Price || 0;\r\n\r\n                total += parseFloat(value[i].Total);\r\n            }\r\n\r\n            itemsList.widget.refresh();\r\n            itemsList.saveState(value);\r\n        }\r\n\r\n        totalField.value = total;\r\n    });\r\n});\r\n\r\nfd.beforeSave(function (data) {\r\n    total = data.Total1;\r\n});\r\n\r\nfd.saved(function () {\r\n    $('.fd-order-form').hide();\r\n    $('.fd-payment-form').show();\r\n\r\n    if (typeof paypal !== 'undefined') return;\r\n\r\n    function initPayPalButtons() {\r\n        paypal\r\n            .Buttons({\r\n                style: {\r\n                    shape: 'rect',\r\n                    color: 'gold',\r\n                    layout: 'vertical',\r\n                    label: 'paypal',\r\n                },\r\n\r\n                createOrder: function (data, actions) {\r\n                    return actions.order.create({\r\n                        purchase_units: [\r\n                            {\r\n                                description: 'New order',\r\n                                amount: {\r\n                                    currency_code: 'USD',\r\n                                    value: parseFloat(total).toFixed(2),\r\n                                },\r\n                            },\r\n                        ],\r\n                    });\r\n                },\r\n\r\n                onApprove: function (data, actions) {\r\n                    return actions.order.capture().then(function (orderData) {\r\n                        // Full available details\r\n                        console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));\r\n\r\n                        // Show a success message within this page, e.g.\r\n                        const element = document.getElementById('paypal-button-container');\r\n                        element.innerHTML = '';\r\n                        element.innerHTML = '<h3>Thank you for your payment!</h3>';\r\n\r\n                        // Or go to another URL:  actions.redirect('thank_you.html');\r\n                    });\r\n                },\r\n\r\n                onError: function (err) {\r\n                    console.log(err);\r\n                },\r\n            })\r\n            .render('#paypal-button-container');\r\n    }\r\n\r\n    var script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id=AQ7P3z6oe-fhuUWaRXJnAKAA9x3KJRIY1tNRRooLpBcHK0cj1jJ3N32mse4fLzdKNOrI-cqW0iidCFzo';\r\n    script.setAttribute('data-sdk-integration-source', 'button-factory');\r\n    script.onload = initPayPalButtons;\r\n\r\n    const head = document.getElementsByTagName('head')[0];\r\n    head.appendChild(script);\r\n});\r\n",
  "css": ".fd-form .alert-success {\n    display: none;\n}\n\n.fd-form h1, .fd-form .h1 {\n    font-size: min(6.5vw, 2.34375rem)!important;\n    text-align: center!important;\n    color: #ffff!important;\n}\n\n.fd-form h4, .fd-form .h4 {\n    font-size: min(4.5vw, 1.40625rem)!important;\n    padding-top: 20px!important;\n    padding-bottom: 4px!important;\n    display: flex!important;\n    flex-direction: row!important;\n}\n\n.fd-form h4:before, .fd-form h4:after{\n  content: \"\";\n  flex: 1 1;\n  border-bottom: 1px solid;\n  margin: auto;\n}\n\n.fd-form h4:before {\n  margin-right: 10px\n}\n\n.fd-form h4:after {\n  margin-left: 10px\n}\n\n.fd-form .btn-primary {\n    font-weight: 500 !important;\n    color: white !important;\n}\n\n.fd-form .fd-total-field span.k-select {\n    display: none !important;\n}\n\n.fd-form .fd-payment-form {\n    display: none;\n}\n",
  "theme": {
    "primary": "#ffc439",
    "bodyText": "#373A3C",
    "bodyBackground": "#ffffff",
    "fontFamily": null,
    "fontType": 0,
    "fontSize": 15,
    "fontWeight": 400,
    "borderThickness": 1,
    "borderRadius": 8,
    "shadow": true,
    "themeId": "b707776c0553e23dfdc740ae7e0843ea"
  },
  "timezone": "Europe/Budapest",
  "culture": "en-US",
  "notifySubscribers": false,
  "thankYouMessage": null,
  "redirectURL": null,
  "hideAfterSubmission": false,
  "submissionTimeout": 0,
  "authentication": 0,
  "singleSubmissionPerUser": false,
  "allowEditingSubmission": false,
  "restrictAccess": false,
  "azureADTenant": null,
  "azureADObjects": [],
  "azureB2CProperties": null,
  "version": "1.0.2"
}
