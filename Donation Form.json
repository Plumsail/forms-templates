{"pc":{"type":"Grid","model":{"rows":[{"cells":[{"class":"donation-info","component":{"type":"Grid","model":{"rows":[{"cells":[{"component":{"type":"Text","model":{"text":"<h1>Make a Donation</h1>","class":"bg-primary","_internalName":"Text1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"padding":[15,null,null,null],"component":{"type":"SingleLineText","model":{"title":{"text":"Name","visible":false},"orientation":"Horizontal","required":true,"cHint":"Jane Parker","description":"Full Name","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"Anything","wrap":true,"_internalName":"Name"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"SingleLineText","model":{"title":{"text":"Email","visible":false},"orientation":"Horizontal","required":true,"cHint":"jparker@domain.com","description":"Email","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"type":"E-mail","wrap":true,"_internalName":"Email","pattern":"^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$","error":"This field must contain a valid e-mail address."}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"MultiLineText","model":{"title":{"text":"Comment","visible":false},"orientation":"Horizontal","required":false,"cHint":"Thank you!","description":"Leave a comment or good wishes.","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"mode":"Plain","wrap":true,"_internalName":"Comment"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Text","model":{"text":"<h4>Choose an amount to donate:</h4>","_internalName":"Text5"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Button","model":{"text":"$25","type":"Light","click":"changeButtonColor('$25')","_internalName":"Button1"}},"alignment":"Left","columns":{"width":4}},{"component":{"type":"Button","model":{"text":"$50","type":"Light","click":"changeButtonColor('$50')","_internalName":"Button2"}},"alignment":"Left","columns":{"width":4}},{"component":{"type":"Button","model":{"text":"$100","type":"Light","click":"changeButtonColor('$100')","_internalName":"Button3"}},"alignment":"Left","columns":{"width":4}}]},{"cells":[{"component":{"type":"Button","model":{"text":"$150","type":"Light","click":"changeButtonColor('$150')","_internalName":"Button4"}},"alignment":"Left","columns":{"width":4}},{"component":{"type":"Button","model":{"text":"$200","type":"Light","click":"changeButtonColor('$200')","_internalName":"Button5"}},"alignment":"Left","columns":{"width":4}},{"component":{"type":"Button","model":{"text":"$300","type":"Light","click":"changeButtonColor('$300')","_internalName":"Button6"}},"alignment":"Left","columns":{"width":4}}]},{"cells":[{"component":{"type":"Number","model":{"title":{"text":"","visible":true},"orientation":"Vertical","required":true,"description":"Donation Amount ","font":{"style":"Normal","weight":"Semibold"},"cFont":{"style":"Normal","weight":"Normal"},"min":1,"decimals":0,"format":"C0","step":1,"wrap":true,"_internalName":"DonationAmount"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"Submit","model":{"text":"Donate","type":"Primary","click":"return fd.save();","_internalName":"Submit1"}},"alignment":"Justify","columns":{"width":12}}]}],"stacked":"md","_internalName":"Grid1"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"class":"payment","component":{"type":"Grid","model":{"rows":[{"cells":[{"component":{"type":"Text","model":{"text":"<h1>Please proceed with the payment.</h1>","_internalName":"Text6"}},"alignment":"Justify","columns":{"width":12}}]},{"cells":[{"component":{"type":"HTML","model":{"content":"<div id=\"smart-button-container\">\r\n    <div id=\"invoiceidDiv\" style=\"text-align: center; display: none;\"><label for=\"invoiceid\"> </label><input name=\"invoiceid\" maxlength=\"127\" type=\"text\" id=\"invoiceid\" value=\"\" ></div>\r\n      <p id=\"invoiceidError\" style=\"visibility: hidden; color:red; text-align: center;\">Please enter an Invoice ID</p>\r\n    <div style=\"text-align: center; margin-top: 0.625rem;\" id=\"paypal-button-container\"></div>\r\n  </div>\r\n ","_internalName":"HTML1"}},"alignment":"Justify","columns":{"width":12}}]}],"stacked":"md","_internalName":"Grid2"}},"alignment":"Justify","columns":{"width":12}}]}],"stacked":"md"}},"phone":{"type":"Grid","model":{"rows":[{"cells":[{"offset":0,"width":2,"padding":[null,0,null,null],"alignment":"Center","style":"","class":"","component":{"type":"Image","model":{"width":60,"height":null,"alt":null,"class":null,"url":null,"target":"Blank","click":null,"_internalName":"Image1","image":"https://forms-storage.plumsail.com/397ad761-3174-49da-a4bf-a741828fbddb-images/98272d91-YOUR%20LOGO.png"}}},{"offset":0,"width":10,"padding":[10,null,null,0],"alignment":"Justify","style":"","class":"","component":{"type":"Text","model":{"width":null,"text":"<h1 style=\"box-sizing:border-box;margin-top:0px;margin-bottom:0px;padding:0px;font-weight:inherit;color:#4c4c4c;font-family:'Open Sans', sans-serif;background-color:#ffffff;text-align:center;\"><strong style=\"box-sizing:border-box;\">Donation Form</strong></h1>","class":null,"_internalName":"Text1"}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"SingleLineText","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"FirstName","visible":false},"cHint":"First Name","required":true,"cWidth":null,"orientation":"Horizontal","class":null,"type":"Anything","fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"FirstName"}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"SingleLineText","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"LastName","visible":false},"cHint":"Last Name","required":true,"cWidth":null,"orientation":"Horizontal","class":null,"type":"Anything","fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"LastName"}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"SingleLineText","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"Email","visible":false},"cHint":"E-mail","required":true,"cWidth":null,"orientation":"Horizontal","class":null,"type":"E-mail","fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"Email","pattern":"^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$","error":"This field must contain a valid e-mail address."}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"MaskedInput","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"Phone","visible":false},"required":false,"cWidth":null,"mask":"+0 (000) 00 00 00","orientation":"Horizontal","class":null,"fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"Phone"}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"Number","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"Donation Amount ","visible":true},"cHint":null,"required":false,"cWidth":null,"orientation":"Vertical","min":1,"max":null,"decimals":2,"format":"C2","step":1,"class":null,"fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"DonationAmount"}}}]},{"cells":[{"offset":0,"width":12,"padding":[10,null,0,null],"alignment":"Justify","style":"","class":"","component":{"type":"Text","model":{"width":null,"text":"<h6>Leave a comment or good wishes. Thank you!</h6>","class":null,"_internalName":"Text5"}}}]},{"cells":[{"offset":0,"width":12,"padding":[0,null,null,null],"alignment":"Justify","style":"","class":"","component":{"type":"MultiLineText","model":{"internalNameBindedToTitle":true,"width":null,"title":{"text":"Comment","visible":false},"cHint":null,"required":false,"cWidth":null,"mode":"Plain","orientation":"Horizontal","class":null,"fontSize":null,"fontStyle":"Normal","fontWeight":"Semibold","wrap":true,"cHeight":null,"cFontSize":null,"cFontStyle":"Normal","cFontWeight":"Normal","_internalName":"Comment"}}}]},{"cells":[{"offset":0,"width":12,"padding":[null,null,null,null],"alignment":"Center","style":"","class":"","component":{"type":"Submit","model":{"width":null,"text":"Donate","type":"Primary","click":"return fd.save();","class":null,"_internalName":"Submit1"}}}]}],"width":null,"stacked":"md"}},"tablet":null,"js":"window.fd= fd;\r\nwindow.changeButtonColor = changeButtonColor;\r\n\r\n//function chnages a button background color depending on the selcted amount\r\nfunction changeButtonColor (amnt){\r\n    var amountSelected = document.getElementsByClassName(\"btn-light\");\r\n    var amntValue = parseFloat(amnt.replace(/\\$|,/g, ''));\r\n\r\n\r\n        fd.field('DonationAmount').value = amntValue;    \r\n        Object.values(amountSelected).forEach(function(btn){\r\n        if(btn.innerText == amnt){\r\n            btn.classList.add(\"bg-primary\")\r\n        }\r\n        else {\r\n            btn.classList.remove(\"bg-primary\")\r\n        }\r\n        })\r\n    }\r\n\r\n\r\nfd.rendered(function () {\r\n\r\n    //hide payment section\r\n    $('.payment').hide()\r\n\r\n    fd.field('DonationAmount').$on('change', function(value){\r\n        var amountSelected = document.getElementsByClassName(\"btn-light\");\r\n        \r\n        Object.values(amountSelected).forEach(function(btn){\r\n            var btnValue = parseFloat(btn.innerText.replace(/\\$|,/g, ''))\r\n            if(value == btnValue){\r\n                btn.classList.add(\"bg-primary\");\r\n            }\r\n            else{\r\n        btn.classList.remove(\"bg-primary\");\r\n            }\r\n        });\r\n    });\r\n});\r\n    \r\nfd.beforeSave(function(data) {\r\n    var amount = data.DonationAmount;\r\n    console.log(amount)\r\n    $('.payment').show();\r\n    $('.donation-info').hide();\r\n    \r\n    var script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id=AQ7P3z6oe-fhuUWaRXJnAKAA9x3KJRIY1tNRRooLpBcHK0cj1jJ3N32mse4fLzdKNOrI-cqW0iidCFzo';\r\n    script.setAttribute('data-sdk-integration-source', 'button-factory');\r\n    script.onload = function(){\r\n    var invoiceid = document.querySelector('#smart-button-container #invoiceid');\r\n    var invoiceidError = document.querySelector('#smart-button-container #invoiceidError');\r\n    var invoiceidDiv = document.querySelector('#smart-button-container #invoiceidDiv');\r\n\r\n\r\n    if (invoiceidDiv.firstChild.innerHTML.length > 1) {\r\n      invoiceidDiv.style.display = \"block\";\r\n    }\r\n\r\n\r\n    function validate(event) {\r\n      return event.value.length > 0;\r\n    }\r\n    \r\n    var orderDescription = '';\r\n    if(orderDescription === '') {\r\n      orderDescription = 'New order';\r\n    }\r\n    \r\n    paypal.Buttons({\r\n      style: {\r\n        color: 'gold',\r\n        shape: 'rect',\r\n        label: 'paypal',\r\n        layout: 'vertical',\r\n        \r\n      },\r\n\r\n      onInit: function (data, actions) {\r\n\r\n        if(invoiceidDiv.style.display === \"block\") {\r\n          elArr.push(invoiceid);\r\n        }\r\n\r\n\r\n            if (amount) {\r\n              actions.enable();\r\n            } else {\r\n              actions.disable();\r\n            }\r\n\r\n\r\n      },\r\n\r\n      onClick: function () {\r\n\r\n        if (invoiceid.value.length < 1 && invoiceidDiv.style.display === \"block\") {\r\n          invoiceidError.style.visibility = \"visible\";\r\n        } else {\r\n          invoiceidError.style.visibility = \"hidden\";\r\n        }\r\n\r\n      },\r\n\r\n      createOrder: function (data, actions) {\r\n          var priceTotal = parseFloat(amount).toFixed(2);\r\n\r\n          \r\n    return actions.order.create({\r\n          purchase_units: [{\r\n            description: orderDescription,\r\n            amount: {\r\n              currency_code: 'USD',\r\n              value: priceTotal\r\n            }\r\n          }]\r\n        });\r\n      },\r\n\r\n      onApprove: function (data, actions) {\r\n        return actions.order.capture().then(function (details) {\r\n          alert('Transaction completed by ' + details.payer.name.given_name + '!');\r\n        });\r\n      },\r\n\r\n      onError: function (err) {\r\n        console.log(err);\r\n      }\r\n    }).render('#paypal-button-container');\r\n    };\r\n    const head = document.getElementsByTagName('head')[0];\r\n    head.appendChild(script); \r\n});    \r\n\r\n/*****************************************************************************\r\nThe JavaScript code from this section will be executed while loading\r\nthe current form.\r\n\r\nThe following predefined variables can be utilized in the code:\r\n\r\nfd  - instance of the current form\r\n$   - jQuery object\r\n\r\n==============================================================================\r\n\r\nfd.rendered(function () {\r\n    // This code is executed once the form is rendered\r\n\r\n    // Hide State field for all values of Country field except 'USA'\r\n    function updateStateVisibility() {\r\n        var stateContainer = $(fd.field('State').$el).closest('.form-group');\r\n        if (fd.field('Country').value === 'USA') {\r\n            stateContainer.show();\r\n        } else {\r\n            stateContainer.hide();\r\n        }\r\n    }\r\n\r\n    // Set initial State visibility\r\n    updateStateVisibility();\r\n\r\n    // Update State visibility after changing Country\r\n    fd.field('Country').$on('change', updateStateVisibility)\r\n});\r\n\r\nfd.beforeSave(function () {\r\n    // This code is exeuted before saving the form and\r\n    // may return Promise. The saving does not proceed until\r\n    // the Promise is resolved. If the Promise is rejected,\r\n    // the saving interrupts. This is the appropriate place\r\n    // for adding custom validation.\r\n\r\n    // Prevent saving if Start Date is greater than End Date\r\n    if (fd.field('StartDate').value > fd.field('EndDate').value) {\r\n        throw Error('Start Date must not be greater than End Date.');\r\n    }\r\n});\r\n\r\nfd.saved(function (result) {\r\n    // This code is executed after saving the form\r\n\r\n    // Forwarding users to specific URL\r\n    window.location = '--- Some URL ---';\r\n});\r\n\r\n*****************************************************************************/","css":"\n.fd-form h1, .fd-form .h1 {\n    font-size: min(6.5vw, 2.34375rem)!important;\n    text-align: center!important;\n    color: white !important;\n}\n\n.fd-form h6, .fd-form .h6, .fd-form .fd-field-title {\n    font-size: min(4.5vw, .9375rem) !important;\n    font-weight: 600 !important;\n}\n\n.fd-form button.fd-button.btn.btn-light {\n    width: 150px !important;\n    font-weight: 500 !important\n}\n\n.fd-form button.fd-button.btn.btn-primary {\n    font-weight: 500 !important\n}\n","theme":null,"timezone":"Asia/Yekaterinburg","culture":"ru","notifySubscribers":false,"thankYouMessage":null,"redirectURL":null,"hideAfterSubmission":false,"submissionTimeout":0,"authentication":0,"singleSubmissionPerUser":false,"allowEditingSubmission":false,"restrictAccess":false,"azureADTenant":null,"azureADObjects":[],"azureB2CProperties":null,"version":"1.0.2"}